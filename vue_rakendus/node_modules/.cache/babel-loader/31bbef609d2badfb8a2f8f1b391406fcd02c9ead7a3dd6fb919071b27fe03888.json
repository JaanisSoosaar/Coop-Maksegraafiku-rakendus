{"ast":null,"code":"import { ref, computed } from 'vue';\nexport default {\n  setup() {\n    const loanAmount = ref('');\n    const period = ref('');\n    const startDate = ref('');\n    const errors = ref({});\n    const today = computed(() => {\n      const date = new Date();\n      console.log(today.value, 'today');\n      var test = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n      console.log(test);\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n    });\n    const validateForm = () => {\n      let valid = true;\n      errors.value = {};\n      if (!loanAmount.value || loanAmount.value < 20000 || loanAmount.value > 300000) {\n        errors.value.loanAmount = 'Laenusumma peab olema vahemikus 20000 - 300000';\n        valid = false;\n      }\n      if (!period.value || period.value < 1) {\n        errors.value.period = 'Periood peab olema vähemalt 1 aasta';\n        valid = false;\n      }\n      if (startDate.value && startDate.value < today.value) {\n        errors.value.startDate = 'Alguskuupäev ei tohi olla minevikus';\n        valid = false;\n      }\n      return valid;\n    };\n    const submitForm = () => {\n      if (validateForm()) {\n        const newLoan = {\n          laenusumma: loanAmount.value,\n          perioodKuudes: period.value,\n          alguskuupäev: startDate.value\n        };\n        //emit('new-loan', newLoan);\n        return newLoan;\n        //TODO :)\n      }\n    };\n    return {\n      loanAmount,\n      period,\n      startDate,\n      errors,\n      today,\n      submitForm\n      //emit,\n      //TODO :)\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","setup","loanAmount","period","startDate","errors","today","date","Date","console","log","value","test","getFullYear","getMonth","getDate","validateForm","valid","submitForm","newLoan","laenusumma","perioodKuudes","alguskuupäev"],"sources":["C:\\Users\\37253\\Desktop\\Coop-praktika\\Maksegraafiku_rakendus\\vue_rakendus\\src\\components\\LoanForm.vue"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"submitForm\">\r\n    <div>\r\n      <label for=\"loanAmount\">Laenusumma:</label>\r\n      <input type=\"number\" id=\"loanAmount\" v-model=\"loanAmount\" min=\"20000\" max=\"300000\" required />\r\n      <p v-if=\"errors.loanAmount\">{{ errors.loanAmount }}</p>\r\n    </div>\r\n    <div>\r\n      <label for=\"period\">Periood (aastates):</label>\r\n      <input type=\"number\" id=\"period\" v-model=\"period\" min=\"1\" required />\r\n      <p v-if=\"errors.period\">{{ errors.period }}</p>\r\n    </div>\r\n    <div>\r\n      <label for=\"startDate\">Alguskuupäev (valikuline):</label>\r\n      <input type=\"date\" id=\"startDate\" v-model=\"startDate\" :min=\"today\" />\r\n      <p v-if=\"errors.startDate\">{{ errors.startDate }}</p>\r\n    </div>\r\n    <button type=\"submit\">Submit</button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const loanAmount = ref('');\r\n    const period = ref('');\r\n    const startDate = ref('');\r\n    const errors = ref({});\r\n\r\n    const today = computed(() => {\r\n      const date = new Date();\r\n      console.log(today.value, 'today' );\r\n      var test = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n      console.log(test);\r\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    });\r\n\r\n    const validateForm = () => {\r\n      let valid = true;\r\n      errors.value = {};\r\n\r\n      if (!loanAmount.value || loanAmount.value < 20000 || loanAmount.value > 300000) {\r\n        errors.value.loanAmount = 'Laenusumma peab olema vahemikus 20000 - 300000';\r\n        valid = false;\r\n      }\r\n\r\n      if (!period.value || period.value < 1) {\r\n        errors.value.period = 'Periood peab olema vähemalt 1 aasta';\r\n        valid = false;\r\n      }\r\n\r\n      if (startDate.value && startDate.value < today.value) {\r\n        errors.value.startDate = 'Alguskuupäev ei tohi olla minevikus';\r\n        valid = false;\r\n      }\r\n\r\n      return valid;\r\n    };\r\n    const submitForm = () => {\r\n      if (validateForm()) {\r\n        const newLoan = {\r\n          laenusumma: loanAmount.value,\r\n          perioodKuudes: period.value,\r\n          alguskuupäev: startDate.value,\r\n        };\r\n        //emit('new-loan', newLoan);\r\n        return newLoan;\r\n        //TODO :)\r\n      }\r\n    };\r\n\r\n    return {\r\n      loanAmount,\r\n      period,\r\n      startDate,\r\n      errors,\r\n      today,\r\n      submitForm,\r\n      //emit,\r\n      //TODO :)\r\n    };\r\n  },\r\n};\r\n</script>"],"mappings":"AAsBA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAK;AAEnC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,UAAS,GAAIH,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMI,MAAK,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMK,SAAQ,GAAIL,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMM,MAAK,GAAIN,GAAG,CAAC,CAAC,CAAC,CAAC;IAEtB,MAAMO,KAAI,GAAIN,QAAQ,CAAC,MAAM;MAC3B,MAAMO,IAAG,GAAI,IAAIC,IAAI,CAAC,CAAC;MACvBC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAACK,KAAK,EAAE,OAAQ,CAAC;MAClC,IAAIC,IAAG,GAAK,GAAEL,IAAI,CAACM,WAAW,CAAC,CAAE,IAAGN,IAAI,CAACO,QAAQ,CAAC,IAAI,CAAE,IAAGP,IAAI,CAACQ,OAAO,CAAC,CAAE,EAAC;MAC3EN,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC;MACjB,OAAQ,GAAEL,IAAI,CAACM,WAAW,CAAC,CAAE,IAAGN,IAAI,CAACO,QAAQ,CAAC,IAAI,CAAE,IAAGP,IAAI,CAACQ,OAAO,CAAC,CAAE,EAAC;IACzE,CAAC,CAAC;IAEF,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACzB,IAAIC,KAAI,GAAI,IAAI;MAChBZ,MAAM,CAACM,KAAI,GAAI,CAAC,CAAC;MAEjB,IAAI,CAACT,UAAU,CAACS,KAAI,IAAKT,UAAU,CAACS,KAAI,GAAI,KAAI,IAAKT,UAAU,CAACS,KAAI,GAAI,MAAM,EAAE;QAC9EN,MAAM,CAACM,KAAK,CAACT,UAAS,GAAI,gDAAgD;QAC1Ee,KAAI,GAAI,KAAK;MACf;MAEA,IAAI,CAACd,MAAM,CAACQ,KAAI,IAAKR,MAAM,CAACQ,KAAI,GAAI,CAAC,EAAE;QACrCN,MAAM,CAACM,KAAK,CAACR,MAAK,GAAI,qCAAqC;QAC3Dc,KAAI,GAAI,KAAK;MACf;MAEA,IAAIb,SAAS,CAACO,KAAI,IAAKP,SAAS,CAACO,KAAI,GAAIL,KAAK,CAACK,KAAK,EAAE;QACpDN,MAAM,CAACM,KAAK,CAACP,SAAQ,GAAI,qCAAqC;QAC9Da,KAAI,GAAI,KAAK;MACf;MAEA,OAAOA,KAAK;IACd,CAAC;IACD,MAAMC,UAAS,GAAIA,CAAA,KAAM;MACvB,IAAIF,YAAY,CAAC,CAAC,EAAE;QAClB,MAAMG,OAAM,GAAI;UACdC,UAAU,EAAElB,UAAU,CAACS,KAAK;UAC5BU,aAAa,EAAElB,MAAM,CAACQ,KAAK;UAC3BW,YAAY,EAAElB,SAAS,CAACO;QAC1B,CAAC;QACD;QACA,OAAOQ,OAAO;QACd;MACF;IACF,CAAC;IAED,OAAO;MACLjB,UAAU;MACVC,MAAM;MACNC,SAAS;MACTC,MAAM;MACNC,KAAK;MACLY;MACA;MACA;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}