{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"loanAmount\"\n}, \"Laenusumma:\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"period\"\n}, \"Periood (aastates):\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"startDate\"\n}, \"Alguskuupäev (valikuline):\", -1 /* HOISTED */);\nconst _hoisted_6 = [\"min\"];\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Submit\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $setup.submitForm && $setup.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_1, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"loanAmount\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.loanAmount = $event),\n    min: \"20000\",\n    max: \"300000\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.loanAmount]]), $setup.errors.loanAmount ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, _toDisplayString($setup.errors.loanAmount), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"period\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.period = $event),\n    min: \"1\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.period]]), $setup.errors.period ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, _toDisplayString($setup.errors.period), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"startDate\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.startDate = $event),\n    min: $setup.today\n  }, null, 8 /* PROPS */, _hoisted_6), [[_vModelText, $setup.startDate]]), $setup.errors.startDate ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _toDisplayString($setup.errors.startDate), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _hoisted_8], 32 /* NEED_HYDRATION */);\n}","map":{"version":3,"names":["_createElementVNode","for","key","type","_createElementBlock","onSubmit","_cache","_withModifiers","args","$setup","submitForm","_hoisted_1","id","$event","loanAmount","min","max","required","errors","_hoisted_2","_toDisplayString","_createCommentVNode","_hoisted_3","period","_hoisted_4","_hoisted_5","startDate","today","_hoisted_6","_hoisted_7","_hoisted_8"],"sources":["C:\\Users\\37253\\Desktop\\Coop-praktika\\Maksegraafiku_rakendus\\vue_rakendus\\src\\components\\LoanForm.vue"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"submitForm\">\r\n    <div>\r\n      <label for=\"loanAmount\">Laenusumma:</label>\r\n      <input type=\"number\" id=\"loanAmount\" v-model=\"loanAmount\" min=\"20000\" max=\"300000\" required />\r\n      <p v-if=\"errors.loanAmount\">{{ errors.loanAmount }}</p>\r\n    </div>\r\n    <div>\r\n      <label for=\"period\">Periood (aastates):</label>\r\n      <input type=\"number\" id=\"period\" v-model=\"period\" min=\"1\" required />\r\n      <p v-if=\"errors.period\">{{ errors.period }}</p>\r\n    </div>\r\n    <div>\r\n      <label for=\"startDate\">Alguskuupäev (valikuline):</label>\r\n      <input type=\"date\" id=\"startDate\" v-model=\"startDate\" :min=\"today\" />\r\n      <p v-if=\"errors.startDate\">{{ errors.startDate }}</p>\r\n    </div>\r\n    <button type=\"submit\">Submit</button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue';\r\n\r\nexport default {\r\n  setup() {\r\n    const loanAmount = ref('');\r\n    const period = ref('');\r\n    const startDate = ref('');\r\n    const errors = ref({});\r\n\r\n    const today = computed(() => {\r\n      const date = new Date();\r\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    });\r\n\r\n    const validateForm = () => {\r\n      let valid = true;\r\n      errors.value = {};\r\n\r\n      if (!loanAmount.value || loanAmount.value < 20000 || loanAmount.value > 300000) {\r\n        errors.value.loanAmount = 'Laenusumma peab olema vahemikus 20000 - 300000';\r\n        valid = false;\r\n      }\r\n\r\n      if (!period.value || period.value < 1) {\r\n        errors.value.period = 'Periood peab olema vähemalt 1 aasta';\r\n        valid = false;\r\n      }\r\n\r\n      if (startDate.value && startDate.value < today.value) {\r\n        errors.value.startDate = 'Alguskuupäev ei tohi olla minevikus';\r\n        valid = false;\r\n      }\r\n\r\n      return valid;\r\n    };\r\n    const submitForm = () => {\r\n      if (validateForm()) {\r\n        const newLoan = {\r\n          laenusumma: loanAmount.value,\r\n          perioodKuudes: period.value,\r\n          alguskuupäev: startDate.value,\r\n        };\r\n        //emit('new-loan', newLoan);\r\n        //TODO :)\r\n      }\r\n    };\r\n\r\n    return {\r\n      loanAmount,\r\n      period,\r\n      startDate,\r\n      errors,\r\n      today,\r\n      submitForm,\r\n      //emit,\r\n      //TODO :)\r\n    };\r\n  },\r\n};\r\n</script>"],"mappings":";gCAGMA,mBAAA,CAA2C;EAApCC,GAAG,EAAC;AAAY,GAAC,aAAW;;EAHzCC,GAAA;AAAA;gCAQMF,mBAAA,CAA+C;EAAxCC,GAAG,EAAC;AAAQ,GAAC,qBAAmB;;EAR7CC,GAAA;AAAA;gCAaMF,mBAAA,CAAyD;EAAlDC,GAAG,EAAC;AAAW,GAAC,4BAA0B;mBAbvD;;EAAAC,GAAA;AAAA;gCAiBIF,mBAAA,CAAqC;EAA7BG,IAAI,EAAC;AAAQ,GAAC,QAAM;;uBAhB9BC,mBAAA,CAiBO;IAjBAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MADfC,cAAA,KAAAC,IAAA,KACyBC,MAAA,CAAAC,UAAA,IAAAD,MAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC/BR,mBAAA,CAIM,cAHJW,UAA2C,E,gBAC3CX,mBAAA,CAA8F;IAAvFG,IAAI,EAAC,QAAQ;IAACS,EAAE,EAAC,YAAY;IAJ1C,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAIoDJ,MAAA,CAAAK,UAAU,GAAAD,MAAA;IAAEE,GAAG,EAAC,OAAO;IAACC,GAAG,EAAC,QAAQ;IAACC,QAAQ,EAAR;iDAArCR,MAAA,CAAAK,UAAU,E,GAC/CL,MAAA,CAAAS,MAAM,CAACJ,UAAU,I,cAA1BV,mBAAA,CAAuD,KAL7De,UAAA,EAAAC,gBAAA,CAKqCX,MAAA,CAAAS,MAAM,CAACJ,UAAU,oBALtDO,mBAAA,e,GAOIrB,mBAAA,CAIM,cAHJsB,UAA+C,E,gBAC/CtB,mBAAA,CAAqE;IAA9DG,IAAI,EAAC,QAAQ;IAACS,EAAE,EAAC,QAAQ;IATtC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IASgDJ,MAAA,CAAAc,MAAM,GAAAV,MAAA;IAAEE,GAAG,EAAC,GAAG;IAACE,QAAQ,EAAR;iDAAhBR,MAAA,CAAAc,MAAM,E,GACvCd,MAAA,CAAAS,MAAM,CAACK,MAAM,I,cAAtBnB,mBAAA,CAA+C,KAVrDoB,UAAA,EAAAJ,gBAAA,CAUiCX,MAAA,CAAAS,MAAM,CAACK,MAAM,oBAV9CF,mBAAA,e,GAYIrB,mBAAA,CAIM,cAHJyB,UAAyD,E,gBACzDzB,mBAAA,CAAqE;IAA9DG,IAAI,EAAC,MAAM;IAACS,EAAE,EAAC,WAAW;IAdvC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAciDJ,MAAA,CAAAiB,SAAS,GAAAb,MAAA;IAAGE,GAAG,EAAEN,MAAA,CAAAkB;0BAdlEC,UAAA,I,cAciDnB,MAAA,CAAAiB,SAAS,E,GAC3CjB,MAAA,CAAAS,MAAM,CAACQ,SAAS,I,cAAzBtB,mBAAA,CAAqD,KAf3DyB,UAAA,EAAAT,gBAAA,CAeoCX,MAAA,CAAAS,MAAM,CAACQ,SAAS,oBAfpDL,mBAAA,e,GAiBIS,UAAqC,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}