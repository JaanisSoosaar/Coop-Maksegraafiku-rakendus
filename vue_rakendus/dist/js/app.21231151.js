(function(){"use strict";var e={8277:function(e,n,t){var o=t(5130),u=t(6768);function r(e,n,t,o,r,a){const l=(0,u.g2)("LoanForm"),i=(0,u.g2)("LoanTable");return(0,u.uX)(),(0,u.CE)("div",null,[(0,u.bF)(l,{onNewLoan:a.addNewLoan},null,8,["onNewLoan"]),(0,u.bF)(i,{onNewLoan:r.newLoan},null,8,["onNewLoan"])])}var a=t(4232);const l=(0,u.Lk)("label",{for:"loanAmount"},"Laenusumma:",-1),i={key:0},s=(0,u.Lk)("label",{for:"period"},"Periood (aastates):",-1),d={key:0},v=(0,u.Lk)("label",{for:"startDate"},"Alguskuupäev (valikuline):",-1),p=["min"],c={key:0},f=(0,u.Lk)("button",{type:"submit"},"Submit",-1);function m(e,n,t,r,m,b){return(0,u.uX)(),(0,u.CE)("form",{onSubmit:n[3]||(n[3]=(0,o.D$)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[(0,u.Lk)("div",null,[l,(0,u.bo)((0,u.Lk)("input",{type:"number",id:"loanAmount","onUpdate:modelValue":n[0]||(n[0]=e=>r.loanAmount=e),min:"20000",max:"300000",required:""},null,512),[[o.Jo,r.loanAmount]]),r.errors.loanAmount?((0,u.uX)(),(0,u.CE)("p",i,(0,a.v_)(r.errors.loanAmount),1)):(0,u.Q3)("",!0)]),(0,u.Lk)("div",null,[s,(0,u.bo)((0,u.Lk)("input",{type:"number",id:"period","onUpdate:modelValue":n[1]||(n[1]=e=>r.period=e),min:"1",required:""},null,512),[[o.Jo,r.period]]),r.errors.period?((0,u.uX)(),(0,u.CE)("p",d,(0,a.v_)(r.errors.period),1)):(0,u.Q3)("",!0)]),(0,u.Lk)("div",null,[v,(0,u.bo)((0,u.Lk)("input",{type:"date",id:"startDate","onUpdate:modelValue":n[2]||(n[2]=e=>r.startDate=e),min:r.today},null,8,p),[[o.Jo,r.startDate]]),r.errors.startDate?((0,u.uX)(),(0,u.CE)("p",c,(0,a.v_)(r.errors.startDate),1)):(0,u.Q3)("",!0)]),f],32)}var b=t(144),k={setup(){const e=(0,b.KR)(""),n=(0,b.KR)(""),t=(0,b.KR)(""),o=(0,b.KR)({}),r=(0,u.EW)((()=>{const e=new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`})),a=()=>{let u=!0;return o.value={},(!e.value||e.value<2e4||e.value>3e5)&&(o.value.loanAmount="Laenusumma peab olema vahemikus 20000 - 300000",u=!1),(!n.value||n.value<1)&&(o.value.period="Periood peab olema vähemalt 1 aasta",u=!1),t.value&&t.value<r.value&&(o.value.startDate="Alguskuupäev ei tohi olla minevikus",u=!1),u},l=()=>{if(a()){const o={laenusumma:e.value,perioodKuudes:n.value,"alguskuupäev":t.value};return o}};return{loanAmount:e,period:n,startDate:t,errors:o,today:r,submitForm:l}}},L=t(1241);const h=(0,L.A)(k,[["render",m]]);var y=h;const g=(0,u.Lk)("thead",null,[(0,u.Lk)("tr",null,[(0,u.Lk)("th",null,"Laenusumma"),(0,u.Lk)("th",null,"Periood"),(0,u.Lk)("th",null,"Alguskuupäev")])],-1);function w(e,n,t,o,r,l){return(0,u.uX)(),(0,u.CE)("table",null,[g,(0,u.Lk)("tbody",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(o.loans,(e=>((0,u.uX)(),(0,u.CE)("tr",{key:e.id},[(0,u.Lk)("td",null,(0,a.v_)(e.laenusumma),1),(0,u.Lk)("td",null,(0,a.v_)(e.perioodKuudes),1),(0,u.Lk)("td",null,(0,a.v_)(e.alguskuupäev),1)])))),128))])])}t(4114);var A=t(8355),O={props:["onNewLoan"],setup(e){const n=(0,b.KR)([]),t=async()=>{try{const e=await A.A.get("/api/loans");n.value=e.data}catch(e){console.error("Failed to fetch loans:",e)}};return(0,u.wB)(e.onNewLoan,(e=>{e&&n.value.push(e)})),(0,u.sV)(t),{loans:n}}};const _=(0,L.A)(O,[["render",w]]);var D=_,E={name:"App",components:{LoanForm:y,LoanTable:D},data(){return{newLoan:null}},methods:{addNewLoan(e){this.newLoan=e}}};const F=(0,L.A)(E,[["render",r]]);var C=F;(0,o.Ef)(C).mount("#app")}},n={};function t(o){var u=n[o];if(void 0!==u)return u.exports;var r=n[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,u,r){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],u=e[d][1],r=e[d][2];for(var l=!0,i=0;i<o.length;i++)(!1&r||a>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(l=!1,r<a&&(a=r));if(l){e.splice(d--,1);var s=u();void 0!==s&&(n=s)}}return n}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,u,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var u,r,a=o[0],l=o[1],i=o[2],s=0;if(a.some((function(n){return 0!==e[n]}))){for(u in l)t.o(l,u)&&(t.m[u]=l[u]);if(i)var d=i(t)}for(n&&n(o);s<a.length;s++)r=a[s],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},o=self["webpackChunkvue_rakendus"]=self["webpackChunkvue_rakendus"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(8277)}));o=t.O(o)})();
//# sourceMappingURL=app.21231151.js.map